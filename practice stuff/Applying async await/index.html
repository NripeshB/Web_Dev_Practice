<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="Hacker.css" />
  </head>
  <body>
    <script>
      let t;

      const addItem = async (item) => {
        await randomdelay();
        let div = document.createElement("div");
        div.innerHTML = item;
        document.body.append(div);

        // Stop the interval when "Cleaning Up" is displayed
        if (item === "Cleaning Up") {
          clearInterval(t);
        }
      };

      let text = [
        "Initializing Hacking ",
        "Reading your files",
        "Password files Detected",
        "Sending all Password files to the Server",
        "Cleaning Up",
      ];

      const randomdelay = () => {
        return new Promise((resolve) => {
          const timeout = 1 + 6 * Math.random();
          setTimeout(resolve, timeout * 1000);
        });
      };

      const addItemsInOrder = async () => {
        t = setInterval(() => {
          let last = document.body.lastElementChild;
          if (last.innerHTML.endsWith("...")) {
            last.innerHTML = last.innerHTML.slice(0, -3);
          } else {
            last.innerHTML += ".";
          }
        }, 100);

        for (const e of text) {
          await addItem(e);
        }
      };

      addItemsInOrder();
    </script>
  </body>
</html>
